# –ö–∞–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –±–æ—Ç–∞

## –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ systemd journalctl (–µ—Å–ª–∏ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –∫–∞–∫ —Å–µ—Ä–≤–∏—Å)

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (—Å–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏):
```bash
sudo journalctl -u telegram-planfix-bot -f
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 100 —Å—Ç—Ä–æ–∫:
```bash
sudo journalctl -u telegram-planfix-bot -n 100
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å:
```bash
sudo journalctl -u telegram-planfix-bot --since "1 hour ago"
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∑–∞ —Å–µ–≥–æ–¥–Ω—è:
```bash
sudo journalctl -u telegram-planfix-bot --since today
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏:
```bash
sudo journalctl -u telegram-planfix-bot --since "2024-01-15 10:00:00"
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–ª—å–∫–æ –æ—à–∏–±–æ–∫:
```bash
sudo journalctl -u telegram-planfix-bot -p err
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Ç–µ–∫—Å—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ù–æ–≤—ã–µ –∑–∞—è–≤–∫–∏"):
```bash
sudo journalctl -u telegram-planfix-bot -f | grep "–ù–æ–≤—ã–µ –∑–∞—è–≤–∫–∏"
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è (–∑–∞–º–µ–Ω–∏—Ç–µ USER_ID –Ω–∞ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è):
```bash
sudo journalctl -u telegram-planfix-bot -f | grep "Executor USER_ID"
```

---

## –°–ø–æ—Å–æ–± 2: –ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–æ–≤ –Ω–∞–ø—Ä—è–º—É—é

–õ–æ–≥–∏ —Ç–∞–∫–∂–µ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ —Ñ–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ (–∏–ª–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `LOG_DIR`):

### –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥-—Ñ–∞–π–ª:
```bash
tail -f bot.log
```

### –õ–æ–≥ –æ—à–∏–±–æ–∫:
```bash
tail -f bot_errors.log
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 100 —Å—Ç—Ä–æ–∫:
```bash
tail -n 100 bot.log
```

### –ü–æ–∏—Å–∫ –≤ –ª–æ–≥–∞—Ö:
```bash
grep "–ù–æ–≤—ã–µ –∑–∞—è–≤–∫–∏" bot.log
grep "Executor" bot.log | tail -n 50
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏:
```bash
grep "2024-01-15" bot.log
```

---

## –°–ø–æ—Å–æ–± 3: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä (journalctl + —Ñ–∞–π–ª—ã)

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ª–æ–≥–æ–≤ (journalctl + —Ñ–∞–π–ª—ã):
```bash
# –í –æ–¥–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - journalctl
sudo journalctl -u telegram-planfix-bot -f

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - —Ñ–∞–π–ª—ã
tail -f bot.log bot_errors.log
```

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å "–ù–æ–≤—ã–º–∏ –∑–∞—è–≤–∫–∞–º–∏"

### 1. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ "üÜï –ù–æ–≤—ã–µ –∑–∞—è–≤–∫–∏":
```bash
sudo journalctl -u telegram-planfix-bot -f | grep -E "(show_new_tasks|–ù–æ–≤—ã–µ –∑–∞—è–≤–∫–∏|Executor|filtered|Task)"
```

### 2. –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–¥–∞—á, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω—ã:
```bash
sudo journalctl -u telegram-planfix-bot --since "10 minutes ago" | grep "filtered out"
```

### 3. –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∏–ª—å—Ç—Ä–∞—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è:
```bash
sudo journalctl -u telegram-planfix-bot --since "10 minutes ago" | grep -E "(filters|allowed_templates|allowed_restaurant_ids|allowed_tag_names)"
```

### 4. –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–¥–∞—á, –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –≤ BotLog:
```bash
sudo journalctl -u telegram-planfix-bot --since "10 minutes ago" | grep -E "(BotLog|bot task|found in BotLog)"
```

### 5. –≠–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤ –≤ —Ñ–∞–π–ª –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:
```bash
sudo journalctl -u telegram-planfix-bot --since "1 hour ago" > logs_analysis.txt
```

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

–£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª–µ `.env`:
```env
LOG_LEVEL=DEBUG  # DEBUG, INFO, WARNING, ERROR, CRITICAL
```

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å:
```bash
sudo systemctl restart telegram-planfix-bot
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å "–ù–æ–≤—ã–º–∏ –∑–∞—è–≤–∫–∞–º–∏":
```bash
# 1. –û—á–∏—Å—Ç–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –ª–æ–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
sudo journalctl -u telegram-planfix-bot --since "1 minute ago" > /dev/null

# 2. –ù–∞—á–Ω–∏—Ç–µ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏
sudo journalctl -u telegram-planfix-bot -f

# 3. –í Telegram –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üÜï –ù–æ–≤—ã–µ –∑–∞—è–≤–∫–∏"

# 4. –í –ª–æ–≥–∞—Ö –≤—ã —É–≤–∏–¥–∏—Ç–µ:
#    - –ö–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã
#    - –ö–∞–∫–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
#    - –ü–æ—á–µ–º—É –∑–∞–¥–∞—á–∏ –±—ã–ª–∏ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω—ã
#    - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ BotLog
```

### –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–¥–∞—á–∏ –ø–æ ID:
```bash
sudo journalctl -u telegram-planfix-bot --since "1 hour ago" | grep "Task 12345"
```

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è journalctl](https://www.freedesktop.org/software/systemd/man/journalctl.html)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è systemd](https://www.freedesktop.org/software/systemd/man/systemctl.html)

